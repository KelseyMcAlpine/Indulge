<h1><%= @vendor.username %> </h1>

<h3> Vendor email:<%= @vendor.email %> </h3>
<table>
  <thead>
    <tr>
      <th>Product</th>
      <th>Product Image</th>
      <th>Product Inventory</th>
      <th>Product Description  </th>
      <th>Product Lifecycle </th>
      <th></th>
      <th> </th>
      <th></th>
    </tr>
  </thead>

  <% @vendor.products.each do |product| %>
  <tr>
    <td> <%= link_to "#{product.name}", product_path(product.id) %></td>
    <td> <%= image_tag product.photo_url %> </td>
    <td> <%= product.inventory %> </td>
    <!-- could be too long? -->
    <td> <%= product.description %> </td>
    <td> <%= product.lifecycle %> </td>
    <td>
      <% if product.lifecycle == "available" %>
        <%= link_to "Retire", update_availability_path(product.id), data: { confirm: "Are you sure you want to retire this product?" }, method: :update_availability %>
      <% else %>
        <%= link_to "ReList", update_availability_path(product.id), data: { confirm: "Are you sure you want to re-list this product?" }, method: :update_availability %>
      <% end %>
    </td>
    <td> <%= link_to "Edit", edit_product_path(product.id)%> </td>
    <td> <%= link_to "Remove", product_path(product.id), data: { confirm: "Are you sure you want to delete this product?" }, method: :delete %> </td>
  </tr>
  <% end %>

</table>


<h3><%= link_to "Add new product", new_product_path %></h3>
